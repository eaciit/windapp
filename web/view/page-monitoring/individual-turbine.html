<script>
    app.currentDateData = '{{.CurrentDateData}}';
    vm.menu({{.Menus}});
</script>
<script src="{{BaseUrl}}res/core/js/page-monitoring/individual-turbine.js?ANTI_CACHE={{.AntiCache}}"></script>
<link rel="stylesheet" type="text/css" href="{{BaseUrl}}res/core/css/page-monitoring/monitoring.css">
<link rel="stylesheet" type="text/css" href="{{BaseUrl}}res/core/css/page-filter-analytic.css">
<script src="{{BaseUrl}}res/highstock/highstock.js"></script>
<script src="{{BaseUrl}}res/highstock/exporting.js"></script>
<script src="{{BaseUrl}}res/highstock/value-in-legend.js"></script>

<div class="row">
    <div class="row">
        <div class="col-md-12 col-sm-12 ez panel-content">
            <div class="nav nav-pills nav-replace-title" style="padding-left: 5px;">
                <div class="col-md-12 col-sm-12 filter-content">
                    <label class="col-md-1 col-sm-1 control-label label-filter">Project</label>
                    <select class="col-md-1 col-sm-1 project-list" id="projectList" name="table" data-bind="kendoDropDownList: { data: it.projectList, dataValueField: 'value', dataTextField: 'text', suggest: true }"
                    style="width:145px"></select>&nbsp;
                    <label class="col-md-1 col-sm-1 control-label label-filter">Turbine</label>
                    <select class="col-md-1 col-sm-1 project-list" id="turbine" name="table" data-bind="kendoDropDownList: { data: it.turbineList, dataValueField: 'Id', dataTextField: 'Id', suggest: true, change: it.ChangeSelection() }"
                    style="width:145px"></select>&nbsp;
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-12 col-sm-12 ez panel-content">
        <div class="col-md-12 col-sm-12 hardcore landing">
            <div class="panel ez no-padding hardcore mb-5">
                <div class="panel-body">                        
                    <div class="col-md-5">
                        <div class="col-md-12 div-info">
                            <h3><b><i class="fa fa-map-marker"></i>&nbsp;<span id="turbine_location">Jaisalmer</span></b></h3>
                            <div class="col-md-12" style="display: inline;">
                                <div class="col-md-6 text-right">
                                     <img id="turbine_img_weather" src="http://openweathermap.org/img/w/02d.png" />
                                </div>
                               <div class="col-md-6 text-left">
                                   <span style="font-size: 30px"><span id="turbine_temperature"></span> &deg; C</span>
                                    <div class="row turbine-weather">
                                         <span id="turbine_weather"></span>
                                    </div>
                               </div>
                            </div>
                            <div class="col-md-12 lat-info">
                                Lat : <b><span id="turbine_lat"></span></b> &nbsp;&nbsp;|&nbsp;&nbsp; Lon : <b><span id="turbine_lon"></span></b>
                            </div>
                        </div>
                        <div class="clearfix">&nbsp;</div>
                        <div class="col-md-12" style="margin-top: 20px;">
                            <div class="col-md-8" style="margin-top: -30px;">
                                <div id="container"></div>
                            </div>
                            <div class="col-md-4 windpower-part">
                                <div class="col-md-12"><a href="#" class="pull-right">Go to Analysis</a></div>
                                <div class="col-md-6 text-center">
                                    <div id="compareWindChart"></div>
                                    <span class="txt-windspeed"><strong>5 m/s</strong></span>
                                </div>
                                <div class="col-md-6">
                                    <div id="comparePowerChart"></div>
                                    <span class="txt-power"><strong>100 kW</strong></span>
                                </div>
                            </div>
                        </div>
                        <div class="clearfix">&nbsp;</div>
                        <div class="col-md-12 direct-part">
                            <div class="col-md-6 text-center">
                               <div class="col-md-12">
                                <span><strong>Nacelle</strong></span>
                                   <div id="windRoseChart"></div>
                               </div>
                            </div>
                            <div class="col-md-6 text-center">
                               <div class="col-md-12">
                                <span><strong>Direction</strong></span>
                                   <div id="windDirectionChart"></div>
                               </div>
                            </div>
                            
                        </div>
                    </div>
                    <div class="col-md-3 border-left-grey border-right-grey">
                        <div class="col-md-12">
                            <h5><strong>Electrical System</strong></h5>
                            <div class="col-md-7">
                                <table class="table table-condensed text-center">
                                    <thead> 
                                        <tr>
                                            <th style="width: 10px">#</th>
                                            <th>Phase Voltage</th>
                                            <th>Phase Current</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td><span class="text-center" data-bind="text: it.phase_volt1()"></span></td>
                                            <td><span class="text-center" data-bind="text: it.phase_cur1()"></span></td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td><span class="text-center" data-bind="text: it.phase_volt2()"></span></td>
                                            <td><span class="text-center" data-bind="text: it.phase_cur2()"></span></td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td><span class="text-center" data-bind="text: it.phase_volt3()"></span></td>
                                            <td><span class="text-center" data-bind="text: it.phase_cur3()"></span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-md-5 border-left-grey">
                                 <div class="clearfix">&nbsp;</div>
                                 <span>Production</span><span class="pull-right"><strong data-bind="text: it.production()"></strong></span>
                                 <hr class="borderYellow">
                                 <span >Cos Phi</span><span class="pull-right"><strong data-bind="text: it.cos_phi()"></strong></span>
                                 <hr class="borderOrange">
                                 <span>Pwr Reactive</span><span class="pull-right"><strong data-bind="text: it.power_react()"></strong></span>
                                 <hr class="borderRed">
                                 <span>Freq. Grid</span><span class="pull-right"><strong data-bind="text: it.freq_grid()"></strong></span>
                             </div>
                        </div>
                        <div class="col-md-12">
                            <h5><strong>Critical Temperature & Pressure</strong></h5>
                            <div class="list-group">
                                <div class="list-group-item list-turbine-item">
                                    <div class="form-group-turbine row">
                                        <label class="col-md-8 col-xs-9 turbine-item-label">Gen. 1 phase 1 coil</label>
                                        <div class="col-md-4 col-xs-3">
                                            :&nbsp;<span class="turbine-item-value" data-bind="text: it.temp_gen_coil1()"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="list-group-item list-turbine-item">
                                    <div class="form-group-turbine row">
                                        <label class="col-md-8 col-xs-9 turbine-item-label">Gen. 1 phase 2 coil</label>
                                        <div class="col-md-4 col-xs-3">
                                            :&nbsp;<span class="turbine-item-value" data-bind="text: it.temp_gen_coil2()"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="list-group-item list-turbine-item">
                                    <div class="form-group-turbine row">
                                        <label class="col-md-8 col-xs-9 turbine-item-label">Gen. 1 phase 3 coil</label>
                                        <div class="col-md-4 col-xs-3">
                                            :&nbsp;<span class="turbine-item-value" data-bind="text: it.temp_gen_coil3()"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="list-group-item list-turbine-item">
                                    <div class="form-group-turbine row">
                                        <label class="col-md-8 col-xs-9 turbine-item-label">Gen. bearing drive</label>
                                        <div class="col-md-4 col-xs-3">
                                            :&nbsp;<span class="turbine-item-value" data-bind="text: it.temp_gen_bearing_driven()"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="list-group-item list-turbine-item">
                                    <div class="form-group-turbine row">
                                        <label class="col-md-8 col-xs-9 turbine-item-label">Gen. bearing non-drive</label>
                                        <div class="col-md-4 col-xs-3">
                                            :&nbsp;<span class="turbine-item-value" data-bind="text: it.temp_gen_bearing_non_driven()"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 vibrations">
                            <h5><strong>Vibrations</strong></h5>
                            <div class="list-group">
                                <div class="list-group-item list-turbine-item">
                                    <div class="form-group-turbine row">
                                        <label class="col-md-8 col-xs-9 turbine-item-label">Drive train</label>
                                        <div class="col-md-4 col-xs-3">
                                            :&nbsp;<span class="turbine-item-value" data-bind="text: it.drive_train_vibra()"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-8 text-center">
                                <span><strong>Rotor (RPM)</strong></span>
                                <div id="rotorChart"></div>
                                <!-- <hr style="border: 1px solid #eee;"> -->
                            </div>
                            <div class="col-md-4 text-center border-left-grey">
                                 <div class="col-md-12"><span><strong><i class="fa fa-asterisk"></i>&nbsp;Pitch Angel</strong></span></div>
                                  <div class="clearfix">&nbsp;</div>
                                 <span class="text-center">#1</span> : <span class="text-center txt-pitch-angel"><strong>2.50</strong></span>
                                 <hr class="borderYellow">
                                 <span class="text-center">#2</span> : <span class="text-center txt-pitch-angel"><strong>2.50</strong></span>
                                 <hr class="borderOrange">
                                 <span class="text-center">#3</span> : <span class="text-center txt-pitch-angel"><strong>2.50</strong></span>
                             </div>
                        </div>
                    </div>
                    <div class="col-md-4 turbine-pic-part">
                        {{template "turbine-pic.html"}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    it.populateProject({{.ProjectList}});
</script>